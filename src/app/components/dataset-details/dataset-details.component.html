<div class="page-body">
  <ng-container *ngTemplateOutlet="header"></ng-container>
  <!-- <ng-container *ngTemplateOutlet="folders"></ng-container> -->

  <ng-container *ngTemplateOutlet="test"></ng-container>
</div>

<ng-template #header>
  <div class="page-header">
    <div class="page-title">
      <button [routerLink]="['/datasets']" mat-raised-button color="basic">
        <
      </button>
      <div></div>
      <span>{{ datasetName }}</span>
    </div>
    <div class="page-action-buttons">
      <!-- ADD FILES TO THE DATASET ACTIVE TAB -->
      <button mat-raised-button color="primary" (click)="fileInput.click()">
        Add files
      </button>
      <input
        type="file"
        #fileInput
        style="display: none"
        webkitdirectory
        directory
        (change)="uploadFiles($event)"
        multiple
      />
      <!-- DELETE DATASET -->
      <button mat-flat-button color="warn" (click)="deleteDataset()">
        Delete
      </button>
    </div>
  </div>
</ng-template>

<!-- <ng-template #folders>
  <div class="folders-container">
    <div class="folder-card">
      <div class="folder-card-header">
        <h2>Training pictures</h2>
        <button
          mat-raised-button
          color="primary"
          (click)="fileInputTrain.click()"
        >
          Add files
        </button>
        <input
          type="file"
          #fileInputTrain
          style="display: none"
          webkitdirectory
          directory
          (change)="uploadFiles($event, 'train')"
          multiple
        />
      </div>
      <div *ngIf="datasetFolders" class="pictures-grid">
        <div *ngFor="let picture of datasetFolders.trainImagesFolder">
          <img [src]="picture" alt="" class="grid-picture" />
        </div>
      </div>
    </div>
    <div class="folder-card">
      <div class="folder-card-header">
        <h2>Validation pictures</h2>
        <button
          mat-raised-button
          color="primary"
          (click)="fileInputValid.click()"
        >
          Add files
        </button>
        <input
          type="file"
          #fileInputValid
          style="display: none"
          webkitdirectory
          directory
          (change)="uploadFiles($event, 'valid')"
          multiple
        />
      </div>
      <div *ngIf="datasetFolders" class="pictures-grid">
        <div *ngFor="let picture of datasetFolders.validImagesFolder">
          <img [src]="picture" alt="" class="grid-picture" />
        </div>
      </div>
    </div>
  </div>
</ng-template> -->

<ng-template #test>
  <div class="grid-container">
    <div class="tabs">
      <div
        class="tab"
        (click)="setActiveTab('train')"
        [class.active]="activeTab === 'train'"
      >
        Training
      </div>
      <div
        class="tab"
        (click)="setActiveTab('valid')"
        [class.active]="activeTab === 'valid'"
      >
        Validation
      </div>
    </div>
    <div class="pictures-container">
      <div *ngIf="datasetFolders" class="pictures-grid">
        <div *ngFor="let picture of shownPictures">
          <img [src]="picture" alt="" class="grid-picture" />
        </div>
      </div>
    </div>
  </div>
</ng-template>
